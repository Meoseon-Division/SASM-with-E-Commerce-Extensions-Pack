<!-- CONFIG 노드! -->
<script type="text/html" data-template-name="sk11st-sasm-credential">
    <div class="form-row">
      <label for="node-config-input-name">
        <i class="fa fa-tag fa-fw"></i> Name</label
      >
      <input type="text" id="node-config-input-name" placeholder="Name" />
    </div>
  
    <div class="form-row">
      <label for="node-config-input-apikey"> API Key</label>
      <input type="text" id="node-config-input-apikey" placeholder="API Key" />
    </div>
  </script>
  
  <script type="text/javascript">
    RED.nodes.registerType("sk11st-sasm-credential", {
      category: "config",
      defaults: {
        name: { value: "" },
      },
      credentials: {
        apikey: { type: "text" },
      },
      label: function () {
        return this.name || "sk11st-sasm-credential";
      },
      oneditsave: function () {
        var trimField = $("#node-config-input-apikey").val().trim();
        $("#node-config-input-apikey").val(trimField);
      },
    });
  </script>
  
  <!-- IN 노드! -->
  <script type="text/html" data-template-name="sk11st-sasm">
    <div class="form-row">
      <label for="node-input-name"> <i class="fa fa-tag fa-fw"></i> Name</label>
      <input type="text" id="node-input-name" placeholder="Name" />
    </div>
    <div class="form-row">
      <label for="node-input-creds"> <i class="fa fa-key"></i> API Key </label>
      <input type="text" id="node-input-creds" />
    </div>
    <div class="form-row">
      <label for="node-input-apiCode">
        <i class="fa fa-list"></i> API Code
      </label>
      <select
          type="text"
          id="node-input-apiCode"
          style="display: inline-block; vertical-align: middle; width:60%;"
      >
        <option value="ProductSearch">ProductSearch(상품검색)</option>
        <option value="CategoryInfo">CategoryInfo(카테고리)</option>
        <option value="ProductInfo">ProductInfo(상품정보조회)</option>
        <option value="ProductImage">ProductImage(상품이미지조회)</option>
      </select>
    </div>
    <form id="node-input-params">
      <div class="form-row" id="node-input-keyword-row">
        <label for="node-input-keyword"> Keyword* </label>
        <input type="text" id="node-input-keyword" />
      </div>
      <div class="form-row" id="node-input-categoryCode-row">
        <label for="node-input-categoryCode"> categoryCode* </label>
        <input type="text" id="node-input-categoryCode" />
      </div>
      <div class="form-row" id="node-input-productCode-row">
        <label for="node-input-productCode"> productCode* </label>
        <input type="text" id="node-input-productCode" />
      </div>
      <div id="product-category-common">
        <div class="form-row" id="node-input-pagenum-row">
          <label for="node-input-pagenum"> pageNum </label>
          <input type="text" id="node-input-pagenum" />
        </div>
        <div class="form-row">
          <label for="node-input-pagesize"> pageSize </label>
          <input type="text" id="node-input-pagesize" />
        </div>
        <div class="form-row">
          <label for="node-input-sortcd"> sortCd </label>
          <input type="text" id="node-input-sortcd" />
        </div>
      </div>
      <div class="form-row" id="node-input-option-row">
        <label for="node-input-option"> option </label>
        <input type="text" id="node-input-option" />
      </div>
      <div class="form-row" id="node-input-targetSearchPrd-row">
        <label for="node-input-targetSearchPrd"> targetSearchPrd</label>
        <input type="text" id="node-input-targetSearchPrd" />
      </div>
    </form>
  </script>
  <script type="text/javascript">
    RED.nodes.registerType("sk11st-sasm", {
      category: "SASM Ecommerce Extensions Pack",
      color: "#F3B567",
      defaults: {
        name: { value: "" },
        creds: { type: "sk11st-sasm-credential", value: "", required: true },
        apiCode: { value: "", required: true },
        keyword: { value: "", type: "text" },
        categoryCode: { value: "", type: "text" },
        productCode: { value: "", type: "text" },
        pagenum: { value: "1", type: "text" },
        pagesize: { value: "50", type: "text" },
        sortcd: { value: "", type: "text" },
        option: { value: "", type: "text" },
        targetSearchPrd: { value: "", type: "text" },
      },
      inputs: 1,
      outputs: 1,
      icon: "11STREET_color.png",
      label: function () {
        return this.name || "sk11st-sasm";
      },
      oneditprepare: function () {
        $("#node-input-apiCode").change(function () {
          var type = $("#node-input-apiCode option:selected").val();
          if (type == "CategoryInfo") {
            $("#node-input-productCode-row").hide();
            $("#node-input-targetSearchPrd-row").hide();
            $("#node-input-keyword-row").hide();
            $("#node-input-categoryCode-row").show();
            $("#product-category-common").show();
            $("#node-input-option-row").show();
          } else if (type == "ProductImage") {
            $("#node-input-categoryCode-row").hide();
            $("#node-input-keyword-row").hide();
            $("#product-category-common").hide();
            $("#node-input-option-row").hide();
            $("#node-input-targetSearchPrd-row").hide();
            $("#node-input-productCode-row").show();
          } else if (type == "ProductInfo") {
            $("#node-input-categoryCode-row").hide();
            $("#node-input-keyword-row").hide();
            $("#product-category-common").hide();
            $("#node-input-targetSearchPrd-row").hide();
            $("#node-input-option-row").show();
            $("#node-input-productCode-row").show();
          } else {
            //ProdcutSearch
            $("#node-input-categoryCode-row").hide();
            $("#node-input-productCode-row").hide();
            $("#node-input-keyword-row").show();
            $("#product-category-common").show();
            $("#node-input-option-row").show();
            $("#node-input-targetSearchPrd-row").show();
          }
        });
        $("#node-input-apiCode").change();
      },
    });
  </script>
  
  <script type="text/html" data-help-name="sk11st-sasm">
    <p>SSAFY</p>
    <p>여기는 도움말 영역입니다.</p>
  </script>